(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{9644:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/toko",function(){return t(5021)}])},2810:function(e,n,t){"use strict";var a=t(5893);t(7294);n.Z=function(e){var n=e.name,t=void 0===n?"":n,o=e.value,r=void 0===o?"":o,i=e.isSubmitted,s=void 0!==i&&i,l=e.isEmpty,c=void 0!==l&&l,u=e.min,d=void 0===u?0:u,m=e.max,f=void 0===m?99:m,h=(e.msg,e.isEqual),p=void 0!==h&&h;return(0,a.jsx)(a.Fragment,{children:s&&(0,a.jsxs)("span",{style:{color:"red",width:"100%",textAlign:"left"},children:[c&&"".concat(t," tidak boleh kosong! "),p&&"".concat(t," tidak sama! "),"string"===typeof r&&r.length<d&&"".concat(t," minimal ").concat(d," karakter! "),"number"===typeof r&&r<d&&"".concat(t," minimal ").concat(d," karakter! "),"string"===typeof r&&r.length>f&&"".concat(t," maximal ").concat(f," karakter! "),"number"===typeof r&&r>f&&"".concat(t," maximal ").concat(f," karakter! ")]})})}},5021:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var a=t(5893),o=(t(1664),t(1163)),r=t(7294),i=t(1344),s=t(2810);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){l(e,n,t[n])}))}return e}var u=function(e,n){switch(n.name){case"SET_SENDING":return c({},e,{sending:n.payload});case"SET_IS_SUBMITTED":return c({},e,{isSubmitted:!0});case"SET_INPUTS":return c({},e,{inputs:c({},e.inputs,n.payload)});case"SET_ERROR":return c({},e,{error:c({},e.inputs,n.payload)});default:return e}},d=t(5926),m=t(3401),f=t.n(m),h=function(e){var n=(0,r.useState)(!1),t=n[0],l=n[1],c=(0,r.useReducer)(u,{isSubmitted:!1,sending:!1,inputs:{name:"",phone:"",address:""},error:{statusCode:0,message:""}}),m=c[0],h=c[1],p=m.isSubmitted,g=m.inputs,x=(m.sending,g.name),S=g.phone,b=g.address,k=(0,r.useState)([]),y=k[0],j=k[1],T=(0,r.useState)(),v=T[0],E=T[1];console.log(v);var N=function(e){e.preventDefault(),h({name:"SET_IS_SUBMITTED"}),(x||S||b)&&(0,d.z6)(g).then((function(e){h({name:"SET_SENDING",payload:!0}),console.log(e),o.default.reload()})).catch((function(e){console.log("error",e),h({name:"SET_ERROR",payload:{statusCode:e,message:e}})})).finally((function(){return h({name:"SET_SENDING",payload:!1})}))};return(0,r.useEffect)((function(){console.log("we are running on the client"),console.log(localStorage.getItem("TOKEN")),(0,d.gg)().then((function(e){j(e.data.data),console.log(y)})).catch((function(e){E(e),console.log(e.message)}))}),[]),(0,a.jsxs)(i.A,{children:[(0,a.jsxs)("header",{className:f().header,children:[(0,a.jsx)("h1",{className:f().headerTitle,children:"Your Store"}),(0,a.jsx)("form",{className:f().headerSearch,children:(0,a.jsx)(i.II,{name:"search",onChange:function(){return null},type:"text",placeholder:"Search your store ..."})}),(0,a.jsx)(i.zx,{color:"btnPrimary",text:"+ Create New Store",onClick:function(){return l(!0)},size:"big"})]}),null!=y[0]?(0,a.jsx)("div",{className:f().mainContent,children:y.map((function(e){return(0,a.jsx)(i.p6,{link:"toko/".concat(e.id),id:e.id,name:e.name,address:e.address},e.id)}))}):(0,a.jsxs)("div",{className:f().emptyStore,children:[(0,a.jsx)("img",{src:"/images/ilustration4.svg",alt:""}),(0,a.jsx)("h2",{children:"Kamu belum memiliki toko."})]}),(0,a.jsx)(i.M0,{visible:t,title:"Create Toko",onOK:function(){return null},onCancel:function(){return l(!1)},footer:null,children:(0,a.jsxs)("form",{className:"tokoForm",onSubmit:function(e){return N(e)},children:[(0,a.jsxs)("div",{className:"formHeader",children:[(0,a.jsx)("h1",{children:"Buat toko anda"}),(0,a.jsx)("p",{children:"Buat tokomu dan undang karyawan untuk manajemen toko yang lebih baik"})]}),(0,a.jsx)(i.II,{name:"name",placeholder:"Nama Toko Anda",type:"text",label:"Nama Toko",onChange:function(e){return h({name:"SET_INPUTS",payload:{name:e.target.value}})}}),(0,a.jsx)(s.Z,{isSubmitted:p,value:x,isEmpty:!x,name:"Name",min:4}),(0,a.jsx)(i.II,{name:"phone",placeholder:"No Telp Toko Anda",type:"text",label:"No Telpon Toko",onChange:function(e){return h({name:"SET_INPUTS",payload:{phone:e.target.value}})}}),(0,a.jsx)(s.Z,{isSubmitted:p,value:S,isEmpty:!S,name:"No telp",min:12}),(0,a.jsx)(i.II,{name:"alamat",placeholder:"Alamat Toko Anda",type:"text",label:"Alamat Toko",onChange:function(e){return h({name:"SET_INPUTS",payload:{address:e.target.value}})}}),(0,a.jsx)(s.Z,{isSubmitted:p,value:b,isEmpty:!b,name:"Address"}),(0,a.jsx)(i.II,{name:"photo",placeholder:"Logo Toko Anda",type:"file",label:"Logo Toko",onChange:function(){return null}}),(0,a.jsxs)("div",{className:"formFooter",children:[(0,a.jsx)(i.zx,{color:"btnPrimary",size:"btnBig",text:"Submit"}),(0,a.jsx)(i.zx,{color:"btnInverse",text:"Batal",size:"btnBig"})]})]})})]})}}},function(e){e.O(0,[203,61,344,774,888,179],(function(){return n=9644,e(e.s=n);var n}));var n=e.O();_N_E=n}]);