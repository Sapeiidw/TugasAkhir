(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{7760:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/toko/[id]/inventory",function(){return e(2e3)}])},2810:function(n,t,e){"use strict";var r=e(5893);e(7294);t.Z=function(n){var t=n.name,e=void 0===t?"":t,o=n.value,i=void 0===o?"":o,a=n.isSubmitted,c=void 0!==a&&a,u=n.isEmpty,s=void 0!==u&&u,l=n.min,d=void 0===l?0:l,f=n.max,v=void 0===f?99:f,p=(n.msg,n.isEqual),m=void 0!==p&&p;return(0,r.jsx)(r.Fragment,{children:c&&(0,r.jsxs)("span",{style:{color:"red",width:"100%",textAlign:"left"},children:[s&&"".concat(e," tidak boleh kosong! "),m&&"".concat(e," tidak sama! "),"string"===typeof i&&i.length<d&&"".concat(e," minimal ").concat(d," karakter! "),"number"===typeof i&&i<d&&"".concat(e," minimal ").concat(d," karakter! "),"string"===typeof i&&i.length>v&&"".concat(e," maximal ").concat(v," karakter! "),"number"===typeof i&&i>v&&"".concat(e," maximal ").concat(v," karakter! ")]})})}},2e3:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return I}});var r=e(4051),o=e.n(r),i=e(5893),a=e(1664),c=e(1163),u=e(7294),s=e(8599),l=e(2810);function d(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function f(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){d(n,t,e[t])}))}return n}var v=function(n,t){switch(t.name){case"SET_SENDING":return f({},n,{sending:t.payload});case"SET_IS_SUBMITTED":return f({},n,{isSubmitted:!0});case"SET_INPUTS":return f({},n,{inputs:f({},n.inputs,t.payload)});case"SET_ERROR":return f({},n,{error:f({},n.inputs,t.payload)});default:return n}},p=e(5644),m=e(9801);function h(n,t,e,r,o,i,a){try{var c=n[i](a),u=c.value}catch(s){return void e(s)}c.done?t(u):Promise.resolve(u).then(r,o)}function y(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){h(i,r,o,a,c,"next",n)}function c(n){h(i,r,o,a,c,"throw",n)}a(void 0)}))}}var x=function(){var n=y(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.Z.get("/inventories/store/".concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),b=(function(){var n=y(o().mark((function n(t,e,r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",m.Z.post("/inventories/".concat(t,"/").concat(e),{data:r}));case 1:case"end":return n.stop()}}),n)})))}(),e(4949)),g=e(5926),k=e(6608),j=e.n(k);function w(n,t,e,r,o,i,a){try{var c=n[i](a),u=c.value}catch(s){return void e(s)}c.done?t(u):Promise.resolve(u).then(r,o)}function S(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){S(n,t,e[t])}))}return n}var I=function(n){var t=(0,u.useState)({visible:!1,edit:!1}),e=t[0],r=t[1],d=(0,c.useRouter)(),f=d.query.id,m=(0,u.useState)(),h=m[0],y=m[1],k=(0,u.useState)([]),S=k[0],I=k[1],P=(0,u.useState)([]),N=P[0],T=P[1],E=(0,u.useState)(),O=(E[0],E[1]),C=(0,u.useState)([]),z=(C[0],C[1]),Z=(0,u.useState)(""),R=Z[0],D=Z[1],F=(0,u.useState)(""),B=(F[0],F[1]),U=(0,u.useReducer)(v,{isSubmitted:!1,sending:!1,inputs:{stock:0,description:""},error:{statusCode:0,message:""}}),K=U[0],M=U[1],A=K.isSubmitted,H=K.inputs,L=K.sending,V=K.error,q=H.stock,W=H.description;(0,u.useEffect)((function(){d.isReady&&((0,g.h)(f).then((function(n){y(n.data.data)})).catch((function(n){console.log(n)})),(0,b.RB)(f).then((function(n){T(n.data.data)})).catch((function(n){console.log(n)})),x(f).then((function(n){I(n.data.data)})).catch((function(n){console.log(n)})),(0,p.b)().then((function(n){z(n.data.data)})).catch((function(n){console.log(n)})))}),[d.isReady]);var X=function(){var n,t=(n=o().mark((function n(t,e,r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:I(S.filter((function(n,t){return t!==r}))),(0,b.H6)(e,f);case 2:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){w(i,r,o,a,c,"next",n)}function c(n){w(i,r,o,a,c,"throw",n)}a(void 0)}))});return function(n,e,r){return t.apply(this,arguments)}}(),Y=(0,u.useMemo)((function(){return S.filter((function(n){return n.product.name.toLowerCase().includes(R.toLowerCase())}))}),[S,R]);console.log(S);var G=[{key:"id",title:"NO",dataType:"numbering"},{key:"name",title:"Nama Produk",render:function(n){return"".concat(n.product.name)}},{key:"name",title:"Category",render:function(n){return"".concat(n.product.category.name)}},{key:"stock",title:"Stock"},{key:"description",title:"Description"},{key:"id",title:"Action",render:function(n,t){return(0,i.jsxs)("div",{className:"flex-row-center gap-10",children:[(0,i.jsx)(s.zx,{text:"Edit",size:"btnSmall",color:"btnPrimary",onClick:function(t){return function(n,t,o){r(_({},e,{visible:!0,edit:!0})),O(t);var i=S.find((function(n){return n.id===t}));i&&M({name:"SET_INPUTS",payload:{stock:i.stock,description:i.description}})}(0,n.id)}}),(0,i.jsx)(s.zx,{text:"Hapus",size:"btnSmall",color:"btnDanger",onClick:function(e){return X(e,n.id,t)}})]})}}];return(0,i.jsxs)(s.VQ,{children:[K.error.message,(0,i.jsxs)("header",{children:[(0,i.jsxs)("div",{className:".flex-row ".concat(j().inventoryToko),children:[(0,i.jsx)("img",{src:"/images/avatar.png",alt:"avatar"}),(0,i.jsxs)("div",{className:"flex-col",children:[(0,i.jsx)("h1",{children:null===h||void 0===h?void 0:h.name}),(0,i.jsx)("p",{children:null===h||void 0===h?void 0:h.address})]})]}),(0,i.jsxs)("div",{className:"flex-row-center justify-between p-2",children:[(0,i.jsxs)("div",{className:"invetoryBreadcrumb",children:[(0,i.jsx)(a.default,{href:"/",children:"Dashboard"})," /"," ",(0,i.jsx)(a.default,{href:"/",children:"Inventory"})]}),(0,i.jsxs)("div",{className:j().inventoryFungsi,children:[(0,i.jsx)(s.zx,{text:"Tambah Satuan",color:"btnInverse",size:"btnSmall"}),(0,i.jsx)(s.zx,{text:"Tambah Kategori",color:"btnInverse",size:"btnSmall"})]})]})]}),(0,i.jsxs)("div",{className:j().inventoryContent,children:[(0,i.jsxs)("div",{className:j().inventoryFilter,children:[(0,i.jsxs)("select",{name:"",id:"",onChange:function(n){return B(n.target.value)},children:[(0,i.jsx)("option",{value:"filter",children:"filter"}),(0,i.jsx)("option",{value:"nama",children:"nama"}),(0,i.jsx)("option",{value:"kategori",children:"kategori"})]}),(0,i.jsx)("input",{type:"text",placeholder:"Cari inventory...",onChange:function(n){return function(n){D(n.target.value)}(n)}}),(0,i.jsx)(s.zx,{text:"Tambah Inventory",size:"btnSmall",color:"btnPrimary",onClick:function(){return r(_({},e,{visible:!0}))}})]}),S[0]?(0,i.jsx)("div",{className:"x-auto",children:(0,i.jsx)(s.iA,{columns:G,data:Y})}):(0,i.jsxs)("div",{className:j().emptyInventory,children:[(0,i.jsx)("img",{src:"/images/produkKosong.svg",alt:""}),(0,i.jsx)("h4",{className:"text-primary",children:"Belum ada inventory"})]})]}),(0,i.jsxs)(s.M0,{title:"Tambah Inventory",visible:e.visible,edit:e.edit,onOK:function(){return null},onCancel:function(){r(_({},e,{visible:!e.visible})),M({name:"SET_INPUTS",payload:{stock:0,description:""}}),r(_({},e,{visible:!1,edit:!1}))},footer:(0,i.jsx)(i.Fragment,{}),children:[V.message," ",e.edit,(0,i.jsxs)("form",{onSubmit:function(){return null},className:"flex flex-column gap-10",children:[(0,i.jsx)("div",{children:(0,i.jsx)(s.Ph,{data:N,k:"name",kValue:"id",name:"productId",onChange:function(){return null},label:"Produk"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(s.II,{name:"stock",onChange:function(n){return M({name:"SET_INPUTS",payload:{stock:n.target.valueAsNumber}})},value:q,placeholder:"Stock awal",type:"number",label:"Stock awal"}),(0,i.jsx)(l.Z,{isSubmitted:A,value:q,isEmpty:!q,name:"Stock",min:4,max:12})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(s.II,{name:"description",onChange:function(n){return M({name:"SET_INPUTS",payload:{description:n.target.value}})},placeholder:"Deskripsi Inventory",type:"text",label:"Deskripsi Inventory",value:W}),(0,i.jsx)(l.Z,{isSubmitted:A,value:W,isEmpty:!W,name:"Deskripsi",min:4,max:12})]}),(0,i.jsx)("div",{children:(0,i.jsx)(s.zx,{type:"submit",text:L?"...Loading":"Simpan Inventory",size:"btnBig",color:"btnPrimary"})})]})]})]})}},5644:function(n,t,e){"use strict";e.d(t,{b:function(){return c}});var r=e(4051),o=e.n(r),i=e(9801);function a(n,t,e,r,o,i,a){try{var c=n[i](a),u=c.value}catch(s){return void e(s)}c.done?t(u):Promise.resolve(u).then(r,o)}var c=function(){var n,t=(n=o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("categories");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function c(n){a(i,r,o,c,u,"next",n)}function u(n){a(i,r,o,c,u,"throw",n)}c(void 0)}))});return function(){return t.apply(this,arguments)}}()},4949:function(n,t,e){"use strict";e.d(t,{gK:function(){return u},RB:function(){return s},O7:function(){return l},H6:function(){return d},nM:function(){return f},VS:function(){return v}});var r=e(4051),o=e.n(r),i=e(9801);function a(n,t,e,r,o,i,a){try{var c=n[i](a),u=c.value}catch(s){return void e(s)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function c(n){a(i,r,o,c,u,"next",n)}function u(n){a(i,r,o,c,u,"throw",n)}c(void 0)}))}}var u=function(){var n=c(o().mark((function n(t,e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.post("/products/".concat(t),e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),s=function(){var n=c(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("products/store/".concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=c(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("products/".concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d=function(){var n=c(o().mark((function n(t,e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.delete("products/".concat(t,"/").concat(e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),f=function(){var n=c(o().mark((function n(t,e,r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.put("products/".concat(t,"/").concat(e),r);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),v=function(){var n=c(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("products/avatar/".concat(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},6608:function(n){n.exports={inventoryToko:"Inventory_inventoryToko__i99wh",inventoryFungsi:"Inventory_inventoryFungsi__0YdWW",inventoryContent:"Inventory_inventoryContent__1Iy6O",action:"Inventory_action__BzpJO",inventoryFilter:"Inventory_inventoryFilter__wbmMR",emptyInventory:"Inventory_emptyInventory__KYrRk"}}},function(n){n.O(0,[135,675,134,774,888,179],(function(){return t=7760,n(n.s=t);var t}));var t=n.O();_N_E=t}]);